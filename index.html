<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ultimate Valentine ğŸ’–</title>
  <link rel="stylesheet" href="style.css">

  <!-- Preload important assets for fast load -->
  <link rel="preload" href="assets/rose.png" as="image">
  <link rel="preload" href="assets/heart-cursor.png" as="image">
  <link rel="preload" href="assets/catch-sound.mp3" as="audio">
</head>
<body>
  <!-- Background music (starts on first click) -->
  <audio id="bgMusic" loop preload="auto">
    <source src="assets/bg-music.mp3" type="audio/mpeg">
  </audio>

  <div class="game-container">
    <h1>Catch My Heart & Roses! ğŸŒ¹â¤ï¸</h1>
    <p>Click anywhere to start the music and play the game!</p>
    <div id="score">Score: 0</div>
    <div id="gameArea"></div>

    <!-- Win message with lazy-loaded video -->
    <div id="winMessage" class="hidden">
      <h2>ğŸ’– You Win! ğŸ’–</h2>
      <p>You melted my heart! Forever yours â¤ï¸</p>
      <video id="loveVideo" width="400" controls preload="none">
        <source src="assets/love-video.mp4" type="video/mp4">
      </video>
    </div>
  </div>

  <!-- Your main JS -->
  <script src="script.js"></script>

  <!-- Play music and prepare video on first click -->
  <script>
    const bgMusic = document.getElementById('bgMusic');
    const loveVideo = document.getElementById('loveVideo');

    document.addEventListener('click', () => {
      // Start background music
      bgMusic.play().catch(() => console.log('Music blocked until click'));

      // Preload video if win message exists
      if (document.getElementById('winMessage') && !loveVideo.src) {
        loveVideo.load();
      }
    }, { once: true }); // Only runs on first click
  </script>
</body>
</html>
